% +------------------------------------------------------------------------+
% | Reference manual page: Surface_mesh_parameterization/intro.tex
% +------------------------------------------------------------------------+
% | 08.22.2005   Laurent Saboret, Pierre Alliez, Bruno Levy
% | Package: Surface_mesh_parameterization
% |
% |
% +------------------------------------------------------------------------+

%\clearpage
%\section{Reference Pages for Planar Parameterization of Triangulated Surface Meshes}
\ccRefChapter{Planar Parameterization of Triangulated Surface Meshes
\label{chap:surface_mesh_parameterization_ref}}

\ccChapterAuthor{Laurent Saboret, Pierre Alliez \and Bruno L\'evy}


Parameterizing a surface amounts to finding a one-to-one mapping from
a suitable domain to the surface. A good mapping is the one which
minimizes either angle or area distortions in some sense. In this
package, we focus on triangulated surfaces that are homeomorphic to a
disk and on piecewise linear mappings into a planar domain.



\section{Classified Reference Pages}

\ccHeading{Main Function}

\ccRefIdfierPage{CGAL::parameterize}  \\


\ccHeading{Concepts}

\ccRefIdfierPage{ParameterizerTraits_3}  \\
\ccRefIdfierPage{BorderParameterizer_3}  \\
\ccRefIdfierPage{ParameterizationMesh_3}  \\
\ccRefIdfierPage{ParameterizationPatchableMesh_3}  \\
\ccRefIdfierPage{SparseLinearAlgebraTraits_d}  \\
\ccRefIdfierPage{PolyhedronTraitsWithKernel_3}  \\

\ccHeading{Surface Parameterization Methods}

This \cgal\ package implements some of
the state-of-the-art parameterization methods:

\begin{itemize}

\item Fixed border:

    \begin{itemize}

    \item Tutte Barycentric Mapping \cite{t-hdg-63}.
    One-to-one mapping is guaranteed for convex border.

    \item Floater Mean Value Coordinates \cite{cgal:f-mvc-03}.
    One-to-one mapping is guaranteed for convex border.

    \item Discrete Conformal Map \cite{cgal:eddhls-maam-95}.
    Conditionally guaranteed if all weights are positive and border is convex.

    \item Discrete Authalic parameterization \cite{cgal:dma-ipsm-02}.
    Conditionally guaranteed if all weights are positive and border is convex.

    \end{itemize}

\item Free border:

    \begin{itemize}

    \item Least Squares Conformal Maps \cite{cgal:lprm-lscm-02}.

    \end{itemize}

\end{itemize}

\ccRefIdfierPage{CGAL::Parameterizer_traits_3<ParameterizationMesh_3>}  \\
\ccRefIdfierPage{CGAL::Fixed_border_parameterizer_3<ParameterizationMesh_3, BorderParameterizer_3, SparseLinearAlgebraTraits_d>}  \\
\ccRefIdfierPage{CGAL::Barycentric_mapping_parameterizer_3<ParameterizationMesh_3, BorderParameterizer_3, SparseLinearAlgebraTraits_d>}  \\
\ccRefIdfierPage{CGAL::Discrete_authalic_parameterizer_3<ParameterizationMesh_3, BorderParameterizer_3, SparseLinearAlgebraTraits_d>}  \\
\ccRefIdfierPage{CGAL::Discrete_conformal_map_parameterizer_3<ParameterizationMesh_3, BorderParameterizer_3, SparseLinearAlgebraTraits_d>}  \\
\ccRefIdfierPage{CGAL::LSCM_parameterizer_3<ParameterizationMesh_3, BorderParameterizer_3, SparseLinearAlgebraTraits_d>}  \\
\ccRefIdfierPage{CGAL::Mean_value_coordinates_parameterizer_3<ParameterizationMesh_3, BorderParameterizer_3, SparseLinearAlgebraTraits_d>}  \\


\ccHeading{Border Parameterization Methods}

Border parameterization methods define a
set of constraints (a constraint specifies two (u,v) coordinates for
each instance of a vertex along the border).

This package implements all common border parameterization methods:
\begin{itemize}

\item For fixed border methods:

    \begin{itemize}

    \item the user can select a border
        parameterization among two common methods: uniform or
        arc-length parameterizations.

    \item one convex shape specified by:

        \begin{itemize}

        \item one shape among a set of standard ones (circle, square).

        \end{itemize}

    \end{itemize}

\item For free border methods: at least two constraints (the pinned
vertices).

\end{itemize}

\ccRefIdfierPage{CGAL::Circular_border_arc_length_parameterizer_3<ParameterizationMesh_3>}  \\
\ccRefIdfierPage{CGAL::Circular_border_uniform_parameterizer_3<ParameterizationMesh_3>}  \\
\ccRefIdfierPage{CGAL::Square_border_arc_length_parameterizer_3<ParameterizationMesh_3>}  \\
\ccRefIdfierPage{CGAL::Square_border_uniform_parameterizer_3<ParameterizationMesh_3>}  \\
\ccRefIdfierPage{CGAL::Two_vertices_parameterizer_3<ParameterizationMesh_3>}  \\


\ccHeading{Mesh}

The general definition of input meshes handled \emph{directly} by \ccc{CGAL::parameterize()} is:

\begin{itemize}

\item Model of \ccc{ParameterizationMesh_3}.

\item Triangulated.

\item 2-manifold.

\item Oriented.

\item Homeomorphic to a disc (may have holes).

\end{itemize}

This package provides a model of the \ccc{ParameterizationMesh_3} concept
to access \ccc{CGAL::Polyhedron_3<Traits>}: \\
\ccc{CGAL::Parameterization_polyhedron_adaptor_3<Polyhedron_3_>}

The meshes supported \emph{indirectly} by the package can be of any genus and
have any number of connected components. If it is not a topological
disc, the input mesh has to come with a description of a cutting path (an oriented list of
vertices) which is the border of a topological disc.  If no cutting path is
given as input, we assume that the surface border is the longest border already
in the input mesh (the other borders will be considered as holes).

The \ccc{CGAL::Parameterization_mesh_patch_3<ParameterizationPatchableMesh_3>}
class is responsible for \emph{virtually} cutting
a patch in a \ccc{ParameterizationPatchableMesh_3} mesh.
The resulting patch is a topological
disk (if the input cutting path is correct)
and provides a \ccc{ParameterizationMesh_3} interface. It can be used as
parameter of \ccc{CGAL::parameterize()}.

Note that this way the user is responsible for cutting a closed mesh of
arbitrary genus (even a topological disc with an intricate seam
cut), as long as this condition is fulfilled.

The package provides an interface with \ccc{CGAL::Polyhedron_3<Traits>}: \\
\ccRefIdfierPage{CGAL::Parameterization_polyhedron_adaptor_3<Polyhedron_3_>}


\ccHeading{Output}

A $(u,v)$ pair is computed for
each inner vertex (i.e. its halfedges share the same $(u,v)$ pair),
while a $(u,v)$ pair is computed for each border halfedge.
The user must iterate over the mesh halfedges to get the result.


\ccHeading{Sparse Linear Algebra}

Since parameterizing meshes requires
efficient representation of sparse matrices and efficient iterative or
direct linear solvers, we provide an interface to several
sparse linear solvers:
\begin{itemize}
\item \eigen\ 3.1 (or greater) is the library recommended by \cgal for solving sparse systems.
\item
    OpenNL (authored by Bruno L{\'e}vy) is shipped with \cgal and is the default solver.
\end{itemize}

\ccc{OpenNL::DefaultLinearSolverTraits<COEFFTYPE, MATRIX, VECTOR, SOLVER>} in OpenNL package  \\
\ccc{OpenNL::SymmetricLinearSolverTraits<COEFFTYPE, MATRIX, VECTOR, SOLVER>} in OpenNL package  \\
\ccRefIdfierPage{CGAL::Eigen_solver_traits<T>}  \\

\ccHeading{Helper Classes}

\ccRefIdfierPage{CGAL::Parameterization_mesh_feature_extractor<ParameterizationMesh_3>}  \\


\ccHeading{Checks and Assertions}

The package performs the next checks:

For \emph{fixed} border parameterizations:
\begin{itemize}
\item Preconditions:
    \begin{itemize}
    \item check that the border is mapped onto a convex polygon.
    \item check that the input mesh is triangular.
    \item check that the input mesh is a surface with one connected component.
    \end{itemize}
\item Postconditions:
    \begin{itemize}
    \item check one-to-one mapping.
    \end{itemize}
\end{itemize}

For \emph{free} border parameterizations:
\begin{itemize}
\item Preconditions:
    \begin{itemize}
    \item check that the input mesh is triangular.
    \item check that the input mesh is a surface with one connected component.
    \end{itemize}
\item Postconditions:
    \begin{itemize}
    \item check one-to-one mapping.
    \end{itemize}
\end{itemize}

Assertions are optional checks. The assertion flags for the package
use \ccc{SURFACE_MESH_PARAMETERIZATION} in their names (\textit{e.g.},
\ccc{CGAL_SURFACE_MESH_PARAMETERIZATION_NO_ASSERTIONS}).



