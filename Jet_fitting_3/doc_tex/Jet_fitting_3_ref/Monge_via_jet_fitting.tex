% +------------------------------------------------------------------------+
% | Reference manual page: Monge_via_jet_fitting.tex
% +------------------------------------------------------------------------+
% | 09.02.2006   Marc Pouget and Frédéric Cazals
% | Package: Jet_fitting_3
% | 
\RCSdef{\RCSMongeviajetfittingRev}{$Id$}
\RCSdefDate{\RCSMongeviajetfittingDate}{$Date$}
% |
%%RefPage: end of header, begin of main body
% +------------------------------------------------------------------------+


\begin{ccRefClass}{Monge_via_jet_fitting<DataKernel, LocalKernel, SvdTraits>} 
 %% add template arg's if necessary

%% \ccHtmlCrossLink{}     %% add further rules for cross referencing links
%% \ccHtmlIndexC[class]{} %% add further index entries

\ccDefinition
  
The class \ccRefName\ is designed to perform the estimation of the
local differential quantities at a given point.  The point range is
given by a pair of input iterators, and it is assumed that the point
where the calculation is carried out is the point that the begin
iterator refers to.
%%
The results are stored in an instance of the nested class \ccc{Monge_form},
the particular information returned depending on the degrees specified
for the polynomial fitting and for the Monge form.

The default for the template \ccc{LocalKernel} is
\ccc{Cartesian<double>} and the default for \ccc{SvdTraits} is \ccc{Eigen_svd} if \ccc{CGAL_EIGEN3_ENABLED}
is defined.

\ccInclude{CGAL/Monge_via_jet_fitting.h}

\ccParameters
The class \ccRefName\ has three template parameters. Parameter
\ccc{DataKernel} provides  the geometric classes and tools
corresponding to the input points, and also members of the
\ccc{Monge_form} class. Parameter  \ccc{LocalKernel} provides
the geometric classes and tools required by local
computations. Parameter \ccc{SvdTraits} features the linear
algebra algorithm required by the fitting method.

\ccTypes

%\ccNestedType{TYPE}{some nested types}
\ccTypedef{  typedef DataKernel   Data_kernel;}{}
\ccGlue
\ccTypedef{  typedef LocalKernel  Local_kernel;}{}
\ccGlue
\ccTypedef{typedef typename Local_kernel::FT       FT; }{}
\ccGlue
\ccTypedef{  typedef typename Local_kernel::Vector_3 Vector_3;}{}

\ccNestedType{Monge_form}{see  the section below. }

\ccCreation
\ccCreationVariable{monge_fitting}  %% choose variable name, given by \ccVar

\ccConstructor{Monge_via_jet_fitting();} {default constructor} 

\ccOperations \ccMethod{ template <class InputIterator> Monge_form
  operator()(InputIterator begin, InputIterator end, size_t d,
  size_t d');}
{This operator performs all the computations. The $N$ input points are
  given by the \ccc{InputIterator} parameters which value-type are
  \ccc{Data_kernel::Point_3}, \ccc{d} is the degree of the fitted
  polynomial, \ccc{d'} is the degree of the expected Monge
  coefficients.  \ccPrecond $N \geq N_{d}:=(d+1)(d+2)/2$, $1 \leq d'
  \leq \min(d,4) $. }


\ccMethod{FT condition_number();}{condition number of the linear fitting system.}
\ccGlue
\ccMethod{std::pair<FT, Vector_3> pca_basis(size_t i);}
{pca eigenvalues and eigenvectors, the pca\_basis has always 3 such pairs.
 Precondition : $i$ ranges from 0 to 2.}

% {\bf NESTED CLASS : Monge\_form}
% \ccDefinition
  
% The class \ccc{Monge_form} stores the Monge representation, i.e. the Monge
% coordinate system and the coefficients of the Monge form in this
% system.

% \ccTypes
% % +--------------------------------------------------------------
% %\ccNestedType{TYPE}{some nested types}
% \ccTypedef{  typedef typename DataKernel::FT        FT; }{}
% \ccGlue
% \ccTypedef{  typedef typename DataKernel::Point_3   Point_3; }{}
% \ccGlue
% \ccTypedef{   typedef typename DataKernel::Vector_3  Vector_3;}{}
% \ccGlue



% \ccCreation
% % +--------------------------------------------------------------
% \ccCreationVariable{monge_form}  %% choose variable name

% \ccc{Monge_via_jet_fitting<DataKernel, LocalKernel, SvdTraits>::Monge_form() monge_form; }
% {\ default constructor.}

% \ccAccessFunctions
% % +--------------------------------------------------------------

% \ccMemberFunction{Point_3 origin();}{Point on the fitted surface where
% differential quantities are computed.}

% The Monge basis is given by :

% \ccMemberFunction{Vector_3 maximal_principal_direction();}{}
% \ccGlue
% \ccMemberFunction{Vector_3 minimal_principal_direction(); }{}
% \ccGlue
% \ccMemberFunction{Vector_3 normal_direction(); }{}

% The Monge coefficients are given by :

% \ccMemberFunction{FT principal_curvatures(size_t i);}
% {$i=0$ for the maximum and $i=1$ for the minimum.}
% \ccGlue
% \ccMemberFunction{FT third_order_coefficients(size_t i); }{$0 \leq i \leq 3$}
% \ccGlue
% \ccMemberFunction{FT fourth_order_coefficients(size_t i); }{$0 \leq i \leq 4$}

% \ccOperations
% % +--------------------------------------------------------------
% %\ccMemberFunction{void set_up(int degree);}{Set the number of coefficients according 
% %to the degree of the Monge representation given. The
% %$(degree+1)(degree+2)/2-4$ coefficients are set to 0.}
% \ccMemberFunction{void comply_wrt_given_normal(const Vector_3 given_normal);}
% { change principal basis and Monge coefficients so that the
% given\_normal and the Monge normal make an acute angle.\\ If
% given\_normal.monge\_normal $< 0$ then change the orientation~: if
% $z=g(x,y)$ in the basis (d1,d2,n) then in the basis (d2,d1,-n)
% $z=h(x,y)=-g(y,x)$. }

% % \ccMemberFunction{void dump_verbose(std::ofstream& out_stream);}
% % { Outputs the data in a human readable way, an alternative is to use the
% % operator $<<$ defined for the class.}
% % \ccMemberFunction{void dump_4ogl(std::ofstream& out_stream, const FT scale);}
% % { Outputs the data for further visualization with successively~: the
% % coordinates of m\_origin\_pt, the coordinates of m\_d1 scaled by scale,
% % the coordinates of m\_d2 scaled by scale, the maximal principal
% % curvature, the minimal principal curvature.}



% The usual insert operator (\ccc{operator<<}) is overloaded for
% \ccc{Monge_form}, it gives the Monge coordinate system (the origin and
% an orthonormal basis) and the coefficients of the Monge form in this
% system.




\ccSeeAlso

\ccc{Eigen_svd}, 
\ccc{Monge_form}

\end{ccRefClass}

% +------------------------------------------------------------------------+
%%RefPage: end of main body, begin of footer
% EOF
% +------------------------------------------------------------------------+

